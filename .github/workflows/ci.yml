name: CI
on: push
jobs:
  test:
    name: Run tests
    runs-on: macos-11.0
    steps:
      - name: ðŸ“¥ Checkout
        uses: actions/checkout@v2

      - name: ðŸ—‚ Install SwiftLint
        run: sh .github/scripts/install_swiftlint.sh

      - name: ðŸ—‚ Install SwiftFormat
        run: sh .github/scripts/install_swiftformat.sh

      - name: ðŸ§½ Run SwiftLint
        run: swiftlint lint --quiet

      - name: ðŸ§¼ Run SwiftFormat
        run: swiftformat --lint .

      - name: ðŸ“‹ Build and test
        run: swift test
        env:
          DEVELOPER_DIR: '/Applications/Xcode_12.5.app'

